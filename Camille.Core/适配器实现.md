# 适配器实现

由于多个适配器同时监听, 服务端会无差别的发送通知, 所以为了保证不收到重复的消息与事件,
适配器管理器 需要协调默认使用的适配器， 与调用专用接口时暂时切换使用的适配器

1. 有如下几点猜想
2. 自动切换
    1. 默认使用ws来收发信息, 如果有上传文件， 下载文件等这种耗时命令式操作, 则自动临时开启(或者一开始就开启但不用,
       但是现在临时使用) Http来处理上传下载
    2. 同时ws保持原有功能正常运行， 不受http启用的影响(可以先参考一下yiri是怎么做的)
    3. 这样的话就需要规定在什么情况下自动使用http进行耗时命令式操作, 防止操作阻塞ws

3. 将何时使用什么适配器的选择器交给用户
    1. 这样的话和自动区别在于, 运行前需要确定默认的适配器, 无论是否耗时操作都使用默认的适配器来进行操作
    2. 如果需要临时切换适配器来进行命令式操作的话， 需要在调用时显示指定适配器